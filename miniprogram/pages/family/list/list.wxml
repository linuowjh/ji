<!--pages/family/list/list.wxml-->
<view class="container">
  <!-- 顶部操作栏 -->
  <view class="header">
    <text class="header-title">家族圈</text>
    <view class="header-actions">
      <button class="btn-join" bindtap="joinFamily">加入</button>
      <button class="btn-create" bindtap="createFamily">+ 创建</button>
    </view>
  </view>

  <!-- 家族圈列表 -->
  <view class="family-list" wx:if="{{families.length > 0}}">
    <view class="family-item card" wx:for="{{families}}" wx:key="id" bindtap="goToDetail" data-id="{{item.id}}">
      <view class="family-header">
        <text class="family-name">{{item.name}}</text>
        <view class="family-badge" wx:if="{{item.role === 'admin'}}">
          <text class="badge-text">管理员</text>
        </view>
      </view>
      <text class="family-desc">{{item.description}}</text>
      <view class="family-stats">
        <view class="stat-item">
          <text class="stat-icon">👥</text>
          <text class="stat-text">{{item.memberCount || 0}}位成员</text>
        </view>
        <view class="stat-item">
          <text class="stat-icon">🏛️</text>
          <text class="stat-text">{{item.memorialCount || 0}}个纪念馆</text>
        </view>
      </view>
    </view>
  </view>

  <!-- 空状态 -->
  <view class="empty" wx:if="{{families.length === 0 && !loading}}">
    <image class="empty-image" src="/images/empty-family.png" mode="aspectFit"></image>
    <text class="empty-text">还没有加入家族圈</text>
    <view class="empty-actions">
      <button class="btn-secondary" bindtap="joinFamily">加入家族圈</button>
      <button class="btn-primary" bindtap="createFamily">创建家族圈</button>
    </view>
  </view>

  <!-- 加载状态 -->
  <view class="loading" wx:if="{{loading}}">
    <text class="loading-text">加载中...</text>
  </view>
</view>
