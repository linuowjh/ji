<!--components/worship-panel/worship-panel.wxml-->
<view class="worship-panel">
  <!-- é€‰é¡¹é¢æ¿ (çŒ®èŠ±ã€ä¸Šé¦™ã€ä¾›å“) -->
  <view class="options-panel" wx:if="{{type !== 'candle' && type !== 'prayer'}}">
    <view class="option-list">
      <view 
        class="option-item {{selectedOption === item.value ? 'selected' : ''}}" 
        wx:for="{{options[type]}}" 
        wx:key="value"
        bindtap="selectOption"
        data-value="{{item.value}}">
        <text class="option-icon">{{item.icon}}</text>
        <text class="option-label">{{item.label}}</text>
      </view>
    </view>
  </view>

  <!-- ç‚¹çƒ›é¢æ¿ -->
  <view class="candle-panel" wx:if="{{type === 'candle'}}">
    <view class="candle-display">
      <text class="candle-icon">ğŸ•¯ï¸</text>
    </view>
    <text class="candle-text">ç‚¹ç‡ƒèœ¡çƒ›ï¼Œç…§äº®å‰è·¯</text>
  </view>

  <!-- ç¥ˆç¦é¢æ¿ -->
  <view class="prayer-panel" wx:if="{{type === 'prayer'}}">
    <textarea 
      class="prayer-input" 
      placeholder="è¯·è¾“å…¥ç¥ˆç¦è¯­..." 
      value="{{inputValue}}"
      bindinput="onInput"
      maxlength="200"
      auto-height>
    </textarea>
    <view class="char-count">{{inputValue.length}}/200</view>
    
    <view class="message-actions">
      <button class="btn-action" bindtap="recordVoice">
        <text class="action-icon">ğŸ¤</text>
        <text class="action-text">è¯­éŸ³ç•™è¨€</text>
      </button>
      <button class="btn-action" bindtap="recordVideo">
        <text class="action-icon">ğŸ“¹</text>
        <text class="action-text">è§†é¢‘ç•™è¨€</text>
      </button>
    </view>
  </view>

  <!-- æäº¤æŒ‰é’® -->
  <button class="btn-submit" bindtap="submit">
    <text wx:if="{{type === 'flower'}}">çŒ®èŠ±</text>
    <text wx:elif="{{type === 'candle'}}">ç‚¹çƒ›</text>
    <text wx:elif="{{type === 'incense'}}">ä¸Šé¦™</text>
    <text wx:elif="{{type === 'tribute'}}">ä¾›å¥‰</text>
    <text wx:elif="{{type === 'prayer'}}">å‘é€ç¥ˆç¦</text>
  </button>
</view>
